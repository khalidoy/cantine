<!-- cantineApp/templates/expenses/expense_list.html -->
{% extends 'base.html' %} {% load static %} {% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h2>Expenses</h2>
  <a href="{% url 'expense_create' %}" class="btn btn-primary">Add Expense</a>
</div>
<table class="table table-striped">
  <thead>
    <tr>
      <th>Description</th>
      <th>Amount</th>
      <th>Date</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for expense in expenses %}
    <!-- Now correctly iterates over 'expenses' -->
    <tr>
      <td>{{ expense.description }}</td>
      <td>${{ expense.amount }}</td>
      <td>{{ expense.created_at|date:"Y-m-d H:i" }}</td>
      <td>
        <a
          href="{% url 'expense_update' expense.pk %}"
          class="btn btn-sm btn-info"
          >Edit</a
        >
        <a
          href="{% url 'expense_delete' expense.pk %}"
          class="btn btn-sm btn-danger"
          >Delete</a
        >
      </td>
    </tr>
    {% empty %}
    <tr>
      <td colspan="4" class="text-center">No expenses recorded.</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
